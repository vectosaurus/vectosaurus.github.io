<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet"
          href="https://www.gstatic.com/_/freebird/_/ss/k=freebird.v.-k3shbpel3bqv.L.W.O/d=1/rs=AMjVe6gRGKbzOmxCbM57MXRjNCqUrfTYOA"
          data-id="_cl">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700&subset=latin,vietnamese,latin-ext,cyrillic,greek,cyrillic-ext,greek-ext"
          rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Product+Sans&subset=latin,vietnamese,latin-ext,cyrillic,greek,cyrillic-ext,greek-ext"
          rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700&subset=latin,vietnamese,latin-ext,cyrillic,greek,cyrillic-ext,greek-ext"
          rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Product+Sans&subset=latin,vietnamese,latin-ext,cyrillic,greek,cyrillic-ext,greek-ext"
          rel="stylesheet" type="text/css">
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="http://js.nicedit.com/nicEdit-latest.js" type="text/javascript"></script>
    <script type="text/javascript">bkLib.onDomLoaded(nicEditors.allTextAreas);</script>
    <meta charset="utf-8"/>
    <title>Explainable AI - Questions</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

    <!-- Custom stylesheet, it must be in the same directory as the html file -->
    <link rel="stylesheet" href="css/xai_questionaire_custom.css">
    <link rel="stylesheet" href="css/style.css">

    <!-- Loading mathjax macro -->
    <!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });













    </script>
    <!-- End of mathjax configuration -->
</head>

<body>
<!--<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<!-- Style The Contact Form How Ever You Prefer -->
<!--<link rel="stylesheet"-->
<!--href="https://cdn.rawgit.com/dwyl/html-form-send-email-via-google-script-without-server/master/style.css">-->
<div tabindex="-1" id="notebook" class="border-box-sizing" onLoad="setfocus()">
    <div class="container" id="notebook-container1">

    </div>
    <div class="container" id="notebook-container">
        <!--1 explainable ai-->
        <form id="gform" method="POST" class="pure-form pure-form-stacked" data-email="shubham@razorthink.com"
              action="https://script.google.com/macros/s/AKfycbxeTzJfB1C5PQyDvfI5HwZQRD9JWh7buAUvFGvVUMvsia9sJG4/exec">
        <div class="cell border-box-sizing text_cell rendered">
            <div class="prompt input_prompt">
            </div>
            <div class="inner_cell">
                <div class="text_cell_render border-box-sizing rendered_html">
                    <h3 id="Explainable-AI">Explainable AI<a class="anchor-link" href="#Explainable-AI">&#182;</a></h3>
                </div>
            </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
            <div class="prompt input_prompt">
            </div>
            <div class="inner_cell">
                <div class="text_cell_render border-box-sizing rendered_html">
                    <p>The purpose of this document is to give a preview of the explanations that will be provided to users for different questions.</p>

                </div>
            </div>
        </div>

            <!--1.1 -->
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h4 id="What-are-the-most-important-features?">What are the most important features?<a
                                class="anchor-link" href="#What-are-the-most-important-features?">&#182;</a></h4>
                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>A staple question in many business solutions. To answer this question, we will display the list
                            of
                            variables in decreasing order of importance. Below is an example response.</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <div style="color:#33222;margin-left:30px;font-size:.9em;font-family:Tahoma">
                            From a global perspective, the model found that the following features had a significant
                            effect
                            on propensity to buy life insurance
                            <ul>
                                <li>number of credit transactions made,</li>
                                <li>number of debit transactions, and</li>
                                <li>number of transactions made through cheques and other modes</li>
                            </ul>
                            Other factors of customer behavior important to measure inclination towards life insurance
                            are -
                            age and number of dependents, etc.
                        </div>
                        <tr style="color:#222;margin-left:0px;font-size:.9em;font-family:Tahoma; margin: 0 auto">
                            <td style="">
                                <img width=60% src="var_imp_plot.png" alt="Drawing" style="border:1px solid #ddd;"/>
                                <p style="text-align:justify;width:64%; margin: 20px auto">
                                    The graph shows which variables are instrumental in the prediction process. The
                                    importance is defined as the ratio between the number of samples routed to a
                                    decision
                                    node involving that feature in any of the trees of the ensemble over the total
                                    number of
                                    samples in the training set.


                                </p>
                            </td>
                            <!--     <td style="width: 50%;">
            <img src="acc_drop.png" alt="Drawing" style="width: 1000px;"/>
            <p style="width: 100%;font-size: 11px; color:#7baad9;text-align:justify; opacity: 0.9">
                This graph shows the drop in accuracy when we exclude a variable from our prediction processes. Higher drop in accuracy indicates higher relative importance of a particular variable.
            </p>
        </td> -->
                        </tr>

                    </div>
                    <fieldset  class="pure-group">
                            <label for="question1">Is there any other way to answer this question that makes it more
                                intuitive and easy to understand? Also is the answer sufficient in terms of
                                content?</label>
                            <textarea  id="question1" name="question1" placeholder="Your response"/></textarea>
                        </fieldset>
                </div>
            </div>
            <!--1.1 form cell -->


            <!--1.2-->
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h4 id="What-model-is-being-used-for-prediction?">What model is being used for prediction?<a
                                class="anchor-link" href="#What-model-is-being-used-for-prediction?">&#182;</a></h4>
                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>Our response to this question will constitute the following information - the type of model,
                            a
                            short description of it, the types of problems it is generally used on and any caveats
                            associated with it. Below is an example response.</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <div style="color:#33222;margin-left:30px;font-size:.9em;font-family:Tahoma">
                            <p>Since this a problem of classification problem, we are using a Logistic Regression model.
                                Logistic regression models are useful in extracting insights from data.
                            </p>
                            <br/>
                        </div>
                        <table style="width:800px;text-align:left;border:1px solid #ddd;margin:0 auto">
                            <tr>
                                <th style="text-align:left;">Model</th>
                                <td style="text-align:left;">Logistic Regression</td>
                            </tr>
                            <tr>
                                <th style="text-align:left;">Description</th>
                                <td style="text-align:left;padding-right:10px;">Logistic Regression is a probability
                                    estimator used to estimate the probability of an event occurring having been given
                                    some
                                    previous data
                                </td>
                            </tr>
                            <tr>
                                <th style="text-align:left;">Interpretability</th>
                                <td style="text-align:left;">High</td>
                            </tr>
                            <tr>
                                <th style="text-align:left;">Used for</th>
                                <td style="text-align:left;">Classification problems</td>
                            </tr>
                            <tr>
                                <th style="text-align:left;">Caveats</th>
                                <td style="text-align:left;">Linear model, doesn't capture non-linearity in data</td>
                            </tr>
                            <tr>
                                <th style="text-align:left;">Use case</th>
                                <td style="text-align:left;">
                                    <ul style="padding:0px, 20px;">
                                        <li>Predict the chances of a customer defaulting</li>
                                        <li>Predict the propensity of a customer buying a product</li>
                                        <li>Predict if a customer will churn</li>
                                    </ul>
                                </td>
                            </tr>
                        </table>

                    </div>
                     <fieldset  class="pure-group">
                            <label for="question2">Assuming you are a business stakeholder in a project and have nominal
                                experience in data based solutions, what else would you want to know?</label>
                            <textarea id="question2" name="question2" placeholder=""/></textarea>
                        </fieldset>
                </div>
            </div>
            <!--1.2 form cell -->


            <!--1.3-->
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h4 id="How-well-is-the-model-performing?">How well is the model performing?<a
                                class="anchor-link"
                                href="#How-well-is-the-model-performing?">&#182;</a>
                        </h4>
                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>While there are many accuracy metrics we can report, we will be displaying only a few of them
                            based on relevance. The answer will have a format similar to this- name of the metric, a
                            short
                            description, its value, and the range it should lie in. Below is an example response.</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <table style="width:800px;text-align:left;border:1px solid #ddd;margin:0 auto">
                            <tr>
                                <th style="width:15%;text-align:left;">Metric</th>
                                <th style="width:10%;text-align:left;">Value</th>
                                <th style="width:75%;text-align:left;">Description</th>
                            </tr>
                            <tr>
                                <th style="text-align:left;">AUC-ROC</th>
                                <td style="text-align:left;">0.83</td>
                                <td style="text-align:left;">
                                    It shows how far off the model is from a randomly predicting machine. For the
                                    baseline
                                    it's 0.5, and for
                                    the perfect classifier it's 1.<br>
                                </td>
                            </tr>

                            <tr>
                                <th style="text-align:left;">GINI</th>
                                <td style="text-align:left;">0.66</td>
                                <td style="text-align:left;">GINI is a measure of inequality in a population. Higher
                                    values
                                    indicate better prediction
                                </td>
                            </tr>

                            <tr>
                                <th style="text-align:left;">Accuracy</th>
                                <td style="text-align:left;">0.88</td>
                                <td style="text-align:left;">Accuracy measures the percentage of cases where predicted
                                    outcome matches the actual outcome
                                </td>
                            </tr>

                            <tr>
                                <th style="text-align:left;">Sensitivity</th>
                                <td style="text-align:left;">0.78</td>
                                <td style="text-align:left;">
                                    Sensitivity measures the proportion of positives that are correctly identified as
                                    such
                                    (e.g. the percentage of sick people who are correctly identified as having the
                                    condition).
                                </td>
                            </tr>

                            <tr>
                                <th style="text-align:left;">Specificity</th>
                                <td style="text-align:left;">0.81</td>
                                <td style="text-align:left;">
                                    Specificity measures the proportion of negatives that are correctly identified as
                                    such
                                    (e.g. the percentage of healthy people who are correctly identified as not having
                                    the
                                    condition).
                                </td>
                            </tr>

                        </table>

                    </div>
                    <fieldset  class="pure-group">
                            <label for="question3">What are your expectations? Does this response provide sufficient
                                information? </label>
                            <textarea id="question3" name="question3" placeholder="Your response"/></textarea>
                        </fieldset>
                </div>
            </div>
            <!--1.3 form cell -->

            <!--1.4-->
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h4 id="What-are-the-important-features-in-a-segment-with-respect-to-the-target-variable">What
                            are
                            the important features in a segment with respect to the target variable<a
                                    class="anchor-link"
                                    href="#What-are-the-important-features-in-a-segment-with-respect-to-the-target-variable">&#182;</a>
                        </h4>
                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>To provide deeper and more meaningful explanations, we will be performing a few exercises in
                            addition to the task. Segmentation/Clustering is one of them. Each cluster has different
                            properties which means that for each segment, the variable importance might change. Here the
                            idea is to show that if we created a separate model for each segment what would the most
                            important variables be. Below is an example response.</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>
                        <div style="text-align:center;"><b style="color:#666">
                            The graph below compares the importance of features across the clusters.
                        </b>
                        </div>
                        </p>
                        <p>
                            <tr>
                                <td><img src="seg_2.png" alt="Drawing" style="width: 49%;display:inline-block;"/></td>
                                <td><img src="seg_4.png" alt="Drawing" style="width: 49%;display:inline-block;"/></td>
                            </tr>
                        </p>
                        <div style="color:#222;margin-left:30px;font-size:.9em;font-family:Tahoma">
                            <p>
                                In each of the graphs below, the variables have been ranked in arranged in decreasing
                                order
                                of their importance. In the graph for <i>Segment 2</i>, number of credit and debit
                                counts
                                are less important as compared to <i>Segment 4</i>. For segment 4, number of credit and
                                debit counts are the most important variables.
                            </p>
                            <p>
                                This implies that for Segment 4, total credit and debit counts are the most important
                                features for predicting life insurance whereas in segment 2, BRC_count and SYS_count are
                                the
                                most important variables.
                            </p>

                        </div>
                        <fieldset class="pure-group">
                            <label for="question4">Would this information suffice? </label>
                            <textarea id="question4" name="question4" placeholder="Your response"/></textarea>
                        </fieldset>
                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h4 id="What-are-the-differences-between-the-segments?">What are the differences between the
                            segments?<a class="anchor-link"
                                        href="#What-are-the-differences-between-the-segments?">&#182;</a></h4>
                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>The difference between this and the above question is the exclusion of target variable. In
                            the
                            previous question, we looked at variable importance with respect to the target variable. In
                            this
                            question however, we will show how much the variables differ from each other by showing a
                            graphical comparison of their summary statistics. We will also show how the target variable
                            descriptive measures (mean, median, mode, etc) vary across each cluster. Below is an example response.</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <div style="text-align:center;color:#222;margin-left:0px auto;font-size:0.9em;font-family:Tahoma">

                            <b style="color:#666;display:block;font-size:1em;">
                                The graphs below compare the two clusters using the statistical values of the predictor
                                variables.
                            </b>

                            <tr style="margin:0 auto">
                                <td><img src="cluster_comparison_means.png" alt="Drawing"
                                         style="display:inline;width:33%;border:1px solid #ddd;"/></td>
                                <td><img src="cluster_comparison_medians.png" alt="Drawing"
                                         style="display:inline;width:33%;border: 1px solid #ddd;"/></td>
                                <td><img src="cluster_comparison_event_rate.png" alt="Drawing"
                                         style="display:inline;width:33%;border: 1px solid #ddd;"/></td>
                            </tr>
                            <p></p>
                            <p></p>
                            <p style="display:block;font-size:1em;">
                                In first two graphs we compare the means and medians of the two clusters. The blue lines
                                represent the Segment 4 and red bars represent the Segment 2. We can clearly see the
                                difference between average values of <i>age, ATM_count, along with total credit and
                                debit
                                counts.</i> The average value of total credit/debit counts is significantly lower in
                                Segment
                                2. This explains the significantly lower event rates in the third graph for Segment 2
                            </p>
                            <br>
                        </div>

                    </div>
                    <fieldset>
                            <label for="question5">Is this answer sufficient to broadly answer the question?</label>
                            <textarea id="question5" name="question5" placeholder="Your response"/></textarea>
                        </fieldset>
                </div>
            </div>
            <!--1.5 form cell -->


            <!--1.6 email-->
            <fieldset class=" email_class">
                <label for="email">Your Email Address:</label>
                <input id="email" name="email" type="email" value=""
                       required placeholder="email@razorthink.com"/>
                <span id="email-invalid" style="display:none">
                Must be a valid email address</span>
            </fieldset>

        <div id="submit_msg"  style="display:none;">
            Submitting responses...
        </div>

            <button class="button-success pure-button button-xlarge" onclick="validate()">
                <i class="fa fa-paper-plane"></i>&nbsp;Send
            </button>

        </form>
        <div class="footer_box">

        </div>

        <div style="display:none;text-align:center;" id="thankyou_message">
            <h2>Thanks for your responses!</h2>
            <a href="https://vectosaurus.github.io">Back</a>
        </div>

    </div>
</div>
<script data-cfasync="false" type="text/javascript"
        src="https://cdn.rawgit.com/dwyl/html-form-send-email-via-google-script-without-server/master/form-submission-handler.js"></script>
<SCRIPT>
    function showDiv() {

}

function validateEmail(email) {
  var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(email);
}

function validate() {
  $("#result").text("");
  var email = $("#email").val();
  if (validateEmail(email)) {
    document.getElementById('submit_msg').style.display = "block";
  } else {
    $("#result").text(email + " is not valid :(");
    $("#result").css("color", "red");
  }
  return false;
}

</SCript>
<script src="http://js.nicedit.com/nicEdit-latest.js" type="text/javascript"></script>
    <script type="text/javascript">bkLib.onDomLoaded(nicEditors.allTextAreas);</script>
</body>
</html>
